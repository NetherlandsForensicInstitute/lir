

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>lir.transform.pairing &mdash; LiR - Likelihood Ratio Toolkit  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../../_static/jupyter-sphinx.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/thebelab.css" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="../../_static/thebelab-helper.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="lir.transform.composite" href="lir.transform.composite.html" />
    <link rel="prev" title="lir.transform.pipeline" href="lir.transform.pipeline.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            LiR - Likelihood Ratio Toolkit
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides.html">Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../lrsystem_yaml.html">LR System selection helper</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lrsystem_yaml.html#specific-source-system">Specific source system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lrsystem_yaml.html#pre-scored-common-source-system">Pre-scored common source system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lrsystem_yaml.html#common-source-system">Common source system</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api-overview.html">Overview of the Python API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api-overview.html#data-classes">Data classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api-overview.html#data-strategies">Data strategies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api-overview.html#lr-systems">LR systems</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lrsystem-assessment.html">Assessing LR system performance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lrsystem-assessment.html#metrics">Metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lrsystem-assessment.html#visualizations">Visualizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lrsystem-assessment.html#neutral-llrs">Neutral LLRs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lrsystem-assessment.html#well-calibrated-llrs">Well-calibrated LLRs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lrsystem-assessment.html#badly-calibrated-data">Badly calibrated data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../reference.html">Registry reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../reference.html#experiment-components">Experiment components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../reference.html#experiment-strategies">Experiment strategies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference.html#data-strategies">Data strategies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference.html#data-providers">Data providers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference.html#metrics">Metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference.html#output">Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference.html#hyperparameters">Hyperparameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../reference.html#lr-system-components">LR system components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../reference.html#lr-system-architecture">LR system architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference.html#lr-system-modules">LR system modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference.html#pairing-methods">Pairing methods</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="lir.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lir</span></code></a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="lir.html#subpackages">Subpackages</a></li>
<li class="toctree-l3"><a class="reference internal" href="lir.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="lir.html#package-contents">Package Contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">LiR - Likelihood Ratio Toolkit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="lir.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lir</span></code></a></li>
          <li class="breadcrumb-item"><a href="lir.transform.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lir.transform</span></code></a></li>
      <li class="breadcrumb-item active"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lir.transform.pairing</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/api/lir/lir.transform.pairing.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-lir.transform.pairing">
<span id="lir-transform-pairing"></span><h1><a class="reference internal" href="#module-lir.transform.pairing" title="lir.transform.pairing"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lir.transform.pairing</span></code></a><a class="headerlink" href="#module-lir.transform.pairing" title="Link to this heading"></a></h1>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Link to this heading"></a></h2>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Link to this heading"></a></h3>
<table class="autosummary longtable docutils align-left">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#lir.transform.pairing.PairingMethod" title="lir.transform.pairing.PairingMethod"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PairingMethod</span></code></a></p></td>
<td><p>Base class for pairing methods.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#lir.transform.pairing.SourcePairing" title="lir.transform.pairing.SourcePairing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SourcePairing</span></code></a></p></td>
<td><p>Construct pairs of sources (i.e. classes) from an array of instances.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#lir.transform.pairing.InstancePairing" title="lir.transform.pairing.InstancePairing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">InstancePairing</span></code></a></p></td>
<td><p>Construct pairs from a set of instances.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="api">
<h3>API<a class="headerlink" href="#api" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="lir.transform.pairing.PairingMethod">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">lir.transform.pairing.</span></span><span class="sig-name descname"><span class="pre">PairingMethod</span></span><a class="headerlink" href="#lir.transform.pairing.PairingMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-obj docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Base class for pairing methods.</p>
<p>A pairing method should implement the <code class="docutils literal notranslate"><span class="pre">pair()</span></code> function.</p>
<dl class="py method">
<dt class="sig sig-object py" id="lir.transform.pairing.PairingMethod.pair">
<span class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">pair</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="lir.data.models.html#lir.data.models.InstanceData" title="lir.data.models.InstanceData"><span class="pre">lir.data.models.InstanceData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_trace_instances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_ref_instances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="lir.data.models.html#lir.data.models.PairedFeatureData" title="lir.data.models.PairedFeatureData"><span class="pre">lir.data.models.PairedFeatureData</span></a></span></span><a class="headerlink" href="#lir.transform.pairing.PairingMethod.pair" title="Link to this definition"></a></dt>
<dd><p>Takes instances as input, and returns pairs.</p>
<p>A pair may be a pair of sources, with multiple instances per source.</p>
<p>The returned features have dimensions `(p, i, …)`` where the first dimension is the pairs, the second
dimension is the instances, and subsequent dimensions are the features.
If the input has labels, the returned labels are an array of source labels, one label per pair, where the labels
are 0=different source, 1=same source.
Any other attributes are combined into tuples.</p>
<dl class="myst field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>instances</strong> – An array of instance features, with one row per instance.</p></li>
<li><p><strong>n_trace_instances</strong> – Number of instances per trace.</p></li>
<li><p><strong>n_ref_instances</strong> – Number of instances per reference source.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>instance pairs</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="lir.transform.pairing.SourcePairing">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">lir.transform.pairing.</span></span><span class="sig-name descname"><span class="pre">SourcePairing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">same_source_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">different_source_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratio_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lir.transform.pairing.SourcePairing" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#lir.transform.pairing.PairingMethod" title="lir.transform.pairing.PairingMethod"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lir.transform.pairing.PairingMethod</span></code></a></p>
<p>Construct pairs of sources (i.e. classes) from an array of instances.</p>
<p>While pairing at instance level results in pairs of instances, some same-source and some different-source, pairing
at source level results in pairing of multiple instances of source A against multiple instances of source B, where A
and B can be same-source or different-source.</p>
<p class="rubric">Initialization</p>
<dl class="py method">
<dt class="sig sig-object py" id="lir.transform.pairing.SourcePairing._get_random_subset">
<span class="sig-name descname"><span class="pre">_get_random_subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="lir.data.models.html#lir.data.models.FeatureData" title="lir.data.models.FeatureData"><span class="pre">lir.data.models.FeatureData</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="lir.data.models.html#lir.data.models.FeatureData" title="lir.data.models.FeatureData"><span class="pre">lir.data.models.FeatureData</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#lir.transform.pairing.SourcePairing._get_random_subset" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lir.transform.pairing.SourcePairing._construct_array">
<span class="sig-name descname"><span class="pre">_construct_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_pairs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="lir.data.models.html#lir.data.models.FeatureData" title="lir.data.models.FeatureData"><span class="pre">lir.data.models.FeatureData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_trace_instances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_ref_instances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="lir.data.models.html#lir.data.models.PairedFeatureData" title="lir.data.models.PairedFeatureData"><span class="pre">lir.data.models.PairedFeatureData</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#lir.transform.pairing.SourcePairing._construct_array" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lir.transform.pairing.SourcePairing.pair">
<span class="sig-name descname"><span class="pre">pair</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="lir.data.models.html#lir.data.models.InstanceData" title="lir.data.models.InstanceData"><span class="pre">lir.data.models.InstanceData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_trace_instances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_ref_instances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="lir.data.models.html#lir.data.models.PairedFeatureData" title="lir.data.models.PairedFeatureData"><span class="pre">lir.data.models.PairedFeatureData</span></a></span></span><a class="headerlink" href="#lir.transform.pairing.SourcePairing.pair" title="Link to this definition"></a></dt>
<dd><p>Pair sources.</p>
<p>Takes a FeatureData object that contains instances.
Returns pairs as a PairedFeatureData object.</p>
<p>The input is expected to have source_ids, that govern how pairs are compiled.
The input instances may be used in a pair, either as a trace instance or as a reference instance.</p>
<dl class="myst field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>instances</strong> – the set of instances to be paired</p></li>
<li><p><strong>n_trace_instances</strong> – the number of trace instances in each pair</p></li>
<li><p><strong>n_ref_instances</strong> – the number of reference instances in each pair</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>paired instances</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="lir.transform.pairing.InstancePairing">
<span class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></span><span class="sig-prename descclassname"><span class="pre">lir.transform.pairing.</span></span><span class="sig-name descname"><span class="pre">InstancePairing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">same_source_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">different_source_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratio_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#lir.transform.pairing.InstancePairing" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#lir.transform.pairing.PairingMethod" title="lir.transform.pairing.PairingMethod"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lir.transform.pairing.PairingMethod</span></code></a></p>
<p>Construct pairs from a set of instances.</p>
<p>Note that this pairing method may cause performance problems with large datasets,
even if the number of instances in the output is limited.</p>
<p class="rubric">Initialization</p>
<p>Construct pairs from a set of instances.</p>
<p>Note that this pairing method may cause performance problems with large datasets,
even if the number of instances in the output is limited.</p>
<dl class="myst field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>same_source_limit</strong> – the maximum number of same source pairs (None = no limit)</p></li>
<li><p><strong>different_source_limit</strong> – the maximum number of different source pairs (None = no limit; ‘balanced’ =
number of same source pairs)</p></li>
<li><p><strong>ratio_limit</strong> – maximum ratio between same source and different source pairs.
Ratio = ds pairs / ss pairs. The number of ds pairs will not exceed ratio_limit * ss pairs.
If both ratio and same_source_limit/different_source_limit are specified,
the number of pairs is chosen such that the ratio_limit is preserved and
the limit(s) are not exceeded, while taking as many pairs as possible within these constraints.</p></li>
<li><p><strong>seed</strong> – seed to make pairing reproducible</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="lir.transform.pairing.InstancePairing.rng">
<span class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></span><span class="sig-name descname"><span class="pre">rng</span></span><span class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">numpy.random.Generator</span></span><a class="headerlink" href="#lir.transform.pairing.InstancePairing.rng" title="Link to this definition"></a></dt>
<dd><p>Obtain a random number generator using a provided seed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lir.transform.pairing.InstancePairing.pair">
<span class="sig-name descname"><span class="pre">pair</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="lir.data.models.html#lir.data.models.InstanceData" title="lir.data.models.InstanceData"><span class="pre">lir.data.models.InstanceData</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_trace_instances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_ref_instances</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="lir.data.models.html#lir.data.models.PairedFeatureData" title="lir.data.models.PairedFeatureData"><span class="pre">lir.data.models.PairedFeatureData</span></a></span></span><a class="headerlink" href="#lir.transform.pairing.InstancePairing.pair" title="Link to this definition"></a></dt>
<dd><p>Construct pairs.</p>
<dl class="myst field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>instances</strong> – the set of instances to be paired</p></li>
<li><p><strong>n_trace_instances</strong> – the number of trace instances in each pair (must be 1 for this pairing method)</p></li>
<li><p><strong>n_ref_instances</strong> – the number of reference instances in each pair (must be 1 for this pairing method)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>paired instances</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="lir.transform.pipeline.html" class="btn btn-neutral float-left" title="lir.transform.pipeline" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="lir.transform.composite.html" class="btn btn-neutral float-right" title="lir.transform.composite" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2026, Netherlands Forensic Institute.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>