output_path: output/${timestamp}_common_source

data:
  provider:
    method: synthesized_normal_multiclass
    seed: 42
    population:
      size: 1000
      instances_per_source: 2
    dimensions:
      - mean: 0
        std: 3
        error_std: 1

  splits:
    strategy: multiclass_cross_validation
    folds: 5

lr_system:
  architecture: score_based
  preprocessing:
    method: csv_writer
    include_labels: True
  pairing:
    method: instance_pairs
    ratio_limit: 1
  comparing:
    method: logging_pipeline
    steps:
      scoring: element_wise_difference
      clf:
        method: logistic_regression
        C: 1
      to_llr: probabilities_to_logodds
      bounding: elub_bounder

experiments:
  - name: model_selection
    strategy: grid
    lr_system: ${lr_system}
    data: ${data}
    hyperparameters:
      - path: comparing.steps.clf
        options:
          - option_name: logit
            method: logistic_regression
            C: 1
          - option_name: svm
            method: svm
            probability: True
    output:
      - method: metrics
        columns:
        - cllr
      - pav
      - ece

  - name: validation
    strategy: single_run
    lr_system: ${lr_system}
    data: ${data}
    output:
      - method: metrics
        columns:
        - cllr
        - cllr_min
        - cllr_cal
      - pav
      - ece
